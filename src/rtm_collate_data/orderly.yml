# You must have a script that does something with the data.  This
# will be a single string and the filename must exist when orderly is
# run
script: script.R


parameters:
  date: ~

artefacts:
  # - report:
  #     description: Combining data streams and validating- these relate to all datastreams are included for information only
  #     filenames:
  #       - report.html
  #       - rtm_compare_healthcare.html

  - data:
      description: Tables of outputs
      filenames:
        - uk_rtm.rds
        - uk_rtm.csv
        - uk_rtm_long.rds

  - data:
      description: wide extract for validation
      filenames:
        - uk_rtm_wide_extract_for_checking.csv
        
  - staticgraph:
      description: All figures
      filenames:
        - figures/regions-1.png
        - figures/regions-10.png
        - figures/regions-11.png
        - figures/regions-12.png
        - figures/regions-13.png
        - figures/regions-14.png
        - figures/regions-15.png
        - figures/regions-16.png
        - figures/regions-17.png
        - figures/regions-18.png
        - figures/regions-19.png
        - figures/regions-2.png
        - figures/regions-20.png
        - figures/regions-21.png
        - figures/regions-22.png
        - figures/regions-23.png
        - figures/regions-24.png
        - figures/regions-25.png
        - figures/regions-26.png
        - figures/regions-27.png
        - figures/regions-28.png
        - figures/regions-29.png
        - figures/regions-3.png
        - figures/regions-30.png
        - figures/regions-31.png
        - figures/regions-32.png
        - figures/regions-33.png
        - figures/regions-34.png
        - figures/regions-35.png
        - figures/regions-36.png
        - figures/regions-4.png
        - figures/regions-5.png
        - figures/regions-6.png
        - figures/regions-7.png
        - figures/regions-8.png
        - figures/regions-9.png

packages:
  - knitr
  - tidyr
  - dplyr
  - readr
  - janitor
  - lubridate
  - ggpubr
  - readxl
  - tools
  - ggplot2
  - flextable
  - plotly
  - htmltools
  - crayon
  - fansi
  - ggshadow

resources:
  - rtm_compare_healthcare.Rmd
  - data-files/variable_meanings.csv
  - data-files/var_names.csv
  - data-files/stp_to_region.csv
  - logo.png
  - report.Rmd

sources:
  - R/rename_variable.R
  - R/checks.R
  - R/reformat_deaths.R

global_resources:
  R/ltla_to_stp.R: stp_translate/ltla_to_stp.R  


depends:
   
  rtm_incoming_phe_dashboard:
    id: latest
    use:
      deaths_by_country.rds: deaths_by_country_by_death_date.rds
      phe_healthcare.rds: phe_healthcare.rds

  
      
requester: UK
author: Katy, Wes, Rich
